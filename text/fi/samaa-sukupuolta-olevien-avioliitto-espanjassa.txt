Samaa sukupuolta olevien avioliitot laillistettiin Espanjassa vuonna 2005. Edellisenä vuonna maan juuri valtaan noussut sosialistihallitus oli aloittanut pääministeri José Luis Rodríguez Zapateron johdossa avioliittojen sallimiseen tähtäävän kampanjan. Lakiehdotukseen sisältyi oikeus adoptioon. Pitkän keskustelun jälkeen Cortes Generales (Espanjan kaksikamarinen parlamentti) hyväksyi 30. kesäkuuta 2005 lain, joka mahdollistaa samaa sukupuolta olevien avioliitot, ja se julkaistiin 2. heinäkuuta 2005. Näistä avioliitoista tuli laillisia Espanjassa sunnuntaina 3. heinäkuuta 2005.
Lain ratifikaatio ei sujunut ilman ristiriitoja, vaikka sitä kannattikin 66 prosenttia Espanjan väestöstä. Erityisesti katolinen kirkko vastusti lakia: kirkon mielestä se merkitsi avioliiton merkityksen heikentämistä. Muut järjestöt ilmaisivat huolensa siitä, että homoparit saattaisivat adoptoida lapsia. Mielenosoitukset lain puolesta ja sitä vastaan houkuttelivat tuhansia ihmisiä eri puolilla Espanjaa. Lain hyväksymisen jälkeen konservatiivinen Kansanpuolue vei sen perustuslakituomioistuimeen.Noin 4 500 samaa sukupuolta olevaa paria meni naimisiin Espanjassa lain voimassaolon ensimmäisenä vuotena. Pian lain hyväksymisen jälkeen nousi esiin kysymys espanjalaisten kanssa naimisiin menneiden ulkomaalaisten laillisesta asemasta silloin, kun heidän kotimaansa lainsäädäntö ei sallinut samaa sukupuolta olevien avioliittoja. Oikeusministeriön päätöksen mukaan Espanjan laki sallii Espanjan kansalaisen mennä naimisiin muun maan kansalaisen kanssa riippumatta siitä, tunnustaako kyseisen henkilön kotimaan lainsäädäntö avioliittoa vai ei. Ainakin toisen osapuolen täytyy olla espanjalainen, tosin myös kaksi ei-espanjalaista henkilöä voi mennä naimisiin keskenään, jos molemmilla on Espanjassa pysyvä oleskelulupa.
1990-luvulla useilla kaupunginvaltuustoilla ja itsehallintoalueilla oli omat käytäntönsä rekisteröityjen parisuhteiden solmimiseen. Ne toivat etuja kumpaa tahansa sukupuolta oleville naimattomille hetero- ja homopareille, mutta niiden vaikutus oli käytännössä lähinnä symbolinen. Espanjan laissa oli jo tunnustettu yksinäisten ihmisten oikeus adoptoida. Niinpä samaa sukupuolta oleva pari pystyi käytännössä adoptoimaan lapsen, mutta jos parisuhde päättyi tai lapsen laillinen vanhempi kuoli, suhteen toisella osapuolella ei ollut minkäänlaisia oikeuksia. Samaa sukupuolta olevien avioliitot olivat laittomia Espanjan itsehallintoalueilla, sillä maan perustuslaki antaa ainoastaan valtiolle oikeuden säädellä avioliittoa.30. kesäkuuta 2004 oikeusministeri Juan Fernando López Aguilar ilmoitti, että Espanjan edustajainhuone oli provisionaalisesti hyväksynyt hallituksen suunnitelman, jossa avioliittolainsäädäntö ulotettaisiin koskemaan myös samaa sukupuolta olevia pareja. Suunnitelman toteutuminen täyttäisi pääministeri José Luis Rodríguez Zapateron vaalilupauksen. López Aguilar ilmoitti myös kahdesta Katalonian alueen paikallisen Convergència i Unió -puolueen ehdotuksesta. Ensimmäinen toisi laillisen aseman sekä eri että saman sukupuolen avoliitoille (esp. parejas de hecho), toinen taas sallisi transsukupuolisten henkilöiden laillisesti vaihtaa nimensä ja sukupuolensa ilman vaadittavaa sukupuolenkorjausleikkausta.
Samaa sukupuolta olevien avioliittoja koskeva lakiehdotus hyväksyttiin Espanjan hallituksessa 1. lokakuuta 2004. Se esiteltiin parlamentille 31. joulukuuta, ja edustajainhuone hyväksyi sen 21. huhtikuuta 2005. Senaatti kuitenkin hylkäsi lakiesityksen 22. kesäkuuta, sillä siellä oppositiossa olevalla kansanpuolueella oli hallussaan enemmistö paikoista. Lakiesitys palasi edustajainhuoneeseen, jolla on valta ohittaa senaatti. Se hyväksyttiin edustajainhuoneessa lopullisesti 30. kesäkuuta 2005 äänin 187 puolesta ja 147 vastaan; poissa oli neljä edustajaa. 
Kun laki astui voimaan 2. heinäkuuta 2005, Espanjasta tuli maailman kolmas samaa sukupuolta olevien avioliitot maanlaajusesti sallinut valtio Alankomaiden ja Belgian jälkeen.Ensimmäiset häät pidettiin kahdeksan päivää lain hyväksymisen jälkeen. Niitä juhlittiin Madridin Tres Cantosin lähiön kaupunginvaltuustossa; naimisiin menivät Carlos Baturín ja Emilio Menéndez. Ensimmäinen kahden naisen välinen avioliitto solmittiin Barcelonassa 11 päivää myöhemmin.Tasa-arvoa kohti otetuista askeleista huolimatta laissa oli aukko: lesboavioliitossa syntyneen lapsen ei-biologinen äiti ei tullut lain silmissä vanhemmaksi. Hänen täytyi halutessaan turvautua aikaa ja vaivaa vievään adoptioon. Tämä oikeus oli annettu heteroseksuaalisille pareille (naimisissa tai ei), joissa mies, joka ei ole lapsen biologinen isä, pystyy tunnustamaan lapsen omakseen ilman erillistä prosessia. 7. marraskuuta 2006 hallitus teki lakiin lisäyksen, joka antoi myös ei-biologiselle äidille oikeuden tunnustaa lesboavioliitossa syntyneen lapsen omakseen.
30. kesäkuuta 2004 esitelty oikeusministeriön lakisuunnitelma siirtyi aluksi Consejo General del Poder Judicialin tutkittavaksi. Vaikka se myönsikin, että homoseksuaaleja vastaan kohdistuvaa syrjintää ei voitu hyväksyä, se suhtautui kriittisesti avioliitto-oikeuden antamiseen samaa sukupuolta oleville pareille (mukaan lukien perheen sisäiseen adoptioon). Sen mukaan perustuslaki ei edellyttänyt avioliitto-oikeuden laajentamista. Syrjintä saataisiin loppumaan muiden lakien, kuten rekisteröityjen parisuhteiden kautta.Negatiivisesta raportista huolimatta hallitus esitteli lakiehdotuksen edustajainhuoneelle 1. lokakuuta 2004. Kansanpuolueen ja Unió Democràtica de Catalunyan jäseniä lukuun ottamatta parlamentin eri puolueet kannattivat uudistusta. 21. huhtikuuta 2005 edustajainhuone hyväksyi lakiesityksen äänin 183 puolesta ja 136 vastaan, poissa oli kuusi edustajaa (mukaan lukien kansanpuolueen jäsen). Lakiesitys oli lyhyt. Se lisäsi Espanjan siviililainsäädännön artiklaan 44 uuden kappaleen, jossa sanottiin: avioliitolla tulee olla samat edellytykset ja vaikutukset huolimatta siitä, ovatko avioliittoon osallistuvat samaa vai eri sukupuolta.Edustajainhuoneen hyväksymä teksti annettiin perustuslain mukaisesti seuraavaksi senaatille hyväksyttäväksi, muutettavaksi tai evättäväksi. 21. kesäkuuta 2005 asijantuntijoita kutsuttiin senaattiin keskustelemaan aiheesta. Asijantuntijoiden mielipiteet vaihtelivat; joidenkin mukaan samaa sukupuolta olevien parien adoptiolla ei ollut mitään vaikutusta lapsen kehitykseen, lukuun ottamatta mahdollista hyväksyvämpää asennetta homoseksuaalisuutta kohtaan. Psykiatri Aquilino Polaino, jonka kansanpuolue oli kutsunut asijantuntijaksi, kutsui homoseksuaalisuutta kuitenkin patologiaksi ja tunne-elämän häiriöksi. Muiden keskustelua herättäneiden huomioidensa lisäksi hän väitti, että monet homoseksuaalit ovat kokeneet seksuaalista hyväksikäyttöä lapsuudessaan ja että homot tulevat yleensä perheistä, joissa isät ovat "vihamielisiä ja etäisiä alkoholisteja" ja äidit ylisuojelevia poikia ja kylmiä tyttöjä kohtaan. Huomattavat kansanpuolueen jäsenet myöhemmin hylkäsivät Polainon väitteet.Senaatti käytti veto-oikeuttaan edustajainhuoneen hyväksymään tekstiin. Vetoa ehdottivat kansanpuolue, jolla oli enemmistö senaatin paikoista, ja Unió Democràtica de Catalunya. Se hyväksyttiin äänin 131 puolesta ja 119 vastaan, poissa oli kaksi edustajaa. Siksi lakiehdotus lähetettiin takaisin edustajainhuoneelle. 30. kesäkuuta 2005 edustajainhuone hyväksyi sen perustuslain mukaisesti, ja ohitti senaatin veton. Äänestyksessä 187 edustajaa äänesti puolesta (mukaan lukien kansanpuolueen edustaja Celia Villalobos), 147 vastaan ja neljä oli poissa. Äänestys merkitsi lakiehdotuksen lopullista hyväksymistä. Äänestys pidettiin, kun Zapatero oli yllättäen tullut parlamenttiin puhumaan lakiehdotuksen puolesta. Hän sanoi, että me olemme laajentamassa mahdollisuutta onneen naapureillemme, kollegoillemme, ystävillemme ja sukulaisillemme. Samaan aikaan olemme rakentamassa parempaa yhteiskuntaa. Mariano Rajoylta, kansanpuolueen oppositiojohtajalta, evättiin mahdollisuus parlamentin puhuttelemiseen, ja hän syytti Zapateroa Espanjan yhteiskunnan jakamisesta.Kun tiedotusvälineet kysyivät kuningas Juan Carlosilta, antaisiko hän hyväksyntänsä parlamentissa käsitellylle laille, hän vastasi olevansa Espanjan, ei Belgian kuningas, joka kieltäytyi allekirjoittamasta abortin laillistavaa lakia. Espanjan kuningas antoi kuninkaallisen suostumksensa laki 13/2005:lle 1. heinäkuuta 2005; laki julkaistiin virallisessa Boletín Oficial del Estado -lehdessä 2. heinäkuuta ja se astui voimaan 3. heinäkuuta.
Huhtikuussa 2005 julkaistun, valtion omistaman Centro de Investigaciones Sociológicas -keskuksen tekemän galluptutkimuksen mukaan 66 prosenttia espanjalaisista kannatti samaa sukupuolta olevien avioliittojen laillistamista. Toinen Instituto Opinan päivää ennen lakiesityksen hyväksymistä tekemä tutkimus osoitti 62,1 prosentin tukea homoavioliitoille ja 49,1 prosentin tukea samaa sukupuolta olevien parien adoptiolle. Instituto Opinan yhdeksän kuukautta lain voimaantulon jälkeen tekemän kyselytutkimuksen mukaan 61 prosenttia väestöstä oli samaa mieltä parlamentin päätöksen kanssa.Laista huolestuivat kuitenkin katoliset tahot, mukaan lukien paavi Johannes Paavali II – joka varoitti perhearvojen heikkenemisestä – ja hänen seuraajansa Benedictus XVI. Kardinaali López Trujillo, pontifikaalisen perheneuvoston puheenjohtaja, sanoi kirkon vaativan välittömästi omantunnonvapautta roomalaiskatolilaisille ja pyytävän heitä vastustamaan lakia. Hän sanoi, että jokaisen työntekijän, joka on samaa sukupuolta olevien avioliittoon liittyvässä ammatissa, pitäisi vastustaa lakia, vaikka se tarkoittaisikin työpaikkojen menettämistä. Homojen oikeuksien kannattajien mukaan kirkko ei vastustanut yhtä äänekkäästi eri sukupuolta olevien ei-uskonnollista avioliittoa, vaikka se olikin muodollisesti sitä vastaan. Esimerkiksi kirkko ei vastustanut kruununprinssi Felipen avioliittoa Letizia Ortizin kanssa, joka oli eronnut aiemmasta siviililiitostaan. Kirkko ei kyennyt keräämään tarpeeksi kannatusta lain kaatamiseen, vaikka 80 prosenttia espanjalaisista pitääkin itseään katolisina. Madridin yliopiston sosiologian professori Gerardo Meilin mukaan tämä saattaa johtua liberalismin merkittävästä lisääntymisestä viime vuosina. Kirkolla oli perinteisesti runsaasti vaikutusvaltaa perheasioissa. Kyselytutkimuksen mukaan kolme neljäsosaa espanjalaisista on sitä mieltä, että kirkon hierarkia ei ole kosketuksissa maan sosiaaliseen todellisuuteen. Eräs selitys väestön asenteisiin saattaa olla kirkon vaikutusvallan heikentyminen diktaattori Francisco Francon kuoleman jälkeen vuonna 1975. Hänen hallintonsa oli läheisessä suhteessa kirkkoon. Tutkimusten mukaan lähes puolet espanjalaisista ei juuri koskaan käy messuissa.Zapatero vastasi katolilaisten kritiikkiin seuraavasti:
»Kahden samaa sukupuolta olevan ihmisen antaminen mennä naimisiin ei aiheuta vahinkoa avioliitolle tai perheelle. Pikemminkin näillä kansalaisilla on nyt mahdollisuus järjestää elämänsä avioliiton ja perheen normien ja vaatimusten mukaan. Avioliitto-instituutiolle ei kohdistu uhkaa, vaan tarkalleen toisin päin: tämä laki tunnustaa avioliiton ja arvostaa sitä.Tietoisena siitä, että jotkut henkilöt ja instituutiot ovat syvästi eri mieltä tästä lakimuutoksesta, haluan sanoa, että kuten muut aiemmat lisäykset avioliittolainsäädäntöön, tämä ei tuota huonoja tuloksia, ja että sen ainoa seuraus on ihmisten järjettömän kärsimyksen välttäminen. Yhteiskunta, joka välttää kansalaistensa järjetöntä kärsimystä, on parempi yhteiskunta.Joka tapauksessa haluan ilmaista syvän kunnioitukseni noille henkilöille ja instituutioille, ja haluan myös pyytää samanlaista kunnioitusta niille, jotka hyväksyvät tämän lain. Niitä homoseksuaaleja, jotka ovat henkilökohtaisesti sietäneet väärinkäytöksiä ja loukkauksia useiden vuosien ajan, pyydän pitämään kansanlaisoikeuksien puolesta käydyssä taistelussa osoitettua rohkeutta esimerkkinä anteliaisuudesta ja ilosta, kunnioittaen kaikkia uskoja.» 
19. kesäkuuta 2005 lakia vastaan järjestettiin julkinen mielenosoitus. Kansanpuolueen jäsenten, Espanjan piispojen ja Espanjan perhefoorumin (Foro Español de la Familia) johtamat mielenosoittajat sanoivat koonneensa 1,5 miljoonaa henkeä vastustamaan "hyökkäystä perinteistä perhemallia kohtaan"; hallituksen delegaatio Madridissa laski tapahtumassa olleen 166 000 osallistujaa. Kaksi viikkoa tämän mielenosoituksen jälkeen Gay Pride -päivänä FELGT (Federación Estatal de Lesbianas, Gays, Transexuales y Bisexuales – Espanjan homojen, lesbojen, transsukupuolisten ja biseksuaalien organisaatio) arvioi kahden miljoonan ihmisen marssineen uuden lain puolesta; poliisin lähteiden mukaan osallistujia oli 97 000. Molemmat marssit pidettiin Madridissa, joka oli tuolloin konservatiivisen kansanpuolueen hallinnassa.
Espanjan piispat väittivät myös hallituksen heikentävän avioliiton tarkoitusta tekemällä eri ja samaa sukupuolta olevat parit tasa-arvoisiksi keskenään. Espanjan perhefoorumi ilmaisi huolensa siitä, että homoparit adoptoisivat ja kasvattaisivat lapsia. Sen mukaan adoptio ei ole vanhempien, vaan adoptoidun lapsen oikeus. Homojen järjestöt vastasivat, että samaa sukupuolta olevat parit olivat käytännössä adoptoineet Espanjassa lapsia jo kauan aikaa, sillä monet parit kasvattivat suhteen toisen osapuolen adoptoimaa alaikäistä. Samaa sukupuolta olevien parien adoptio oli jo laillinen Navarrassa, Asturiassa, Aragoniassa, Baskimaassa ja Kataloniassa, ennen kuin avioliittolaki laillisti nämä adoptiot kansallisesti. Järjestöjen mukaan väitteelle, että vanhempien seksuaalinen orientaatio aiheuttaisi lapselle kehitysongelmia, ei ollut mitään tieteellistä perustetta. Tätä näkemystä tukee virallisesti Madridin psykologiakoulu (Colegio Oficial de Psicólogos de Madrid), jonka mukaan homoseksuaalisuus ei myöskään ole patologia.
21. heinäkuuta 2005 tuomari Dénian kaupunissa kieltäytyi antamasta avioliittolupaa lesboparille. Tuomari aloitti myös oikeusjutun perustuslakituomioistuimessa avioliittolakia vastaan, pohjautuen Espanjan perustuslain artiklaan 32, jossa on lause: "Miehellä ja naisella on oikeus solmia avioliitto täysin tasa-arvoisina lain edessä." Elokuussa 2005 tuomari Gran Canarialta kieltäytyi antamasta avioliittolupaa kolmelle samaa sukupuolta olevalle parille, ja aloitti uuden perustuslakijutun. Joulukuussa 2005 perustuslakituomioistuin hylkäsi molemmat haasteet, sillä kummallakaan tuomarilla ei ollut tarpeeksi perusteita niiden aloittamiseen. 30. syyskuuta 2005 oppostiossa oleva kansanpuolue päätti aloittaa erillisen perustuslakijutun, mikä aiheutti jakautumista puolueen sisällä. Juttu ei ole vielä ratkennut (joulukuu 2007). 27. helmikuuta 2007 Espanjan perhefoorumi esitteli 1,5 miljoonan henkilön allekirjoittaman aloitteen, joka tekisi avioliitosta vain miehen ja naisen välisen unionin (ja käytännössä kieltäisi samaa sukupuolta olevien avioliiton). Espanjan edustajainhuone hylkäsi aloitteen. 30. toukokuuta 2007 Comisión Disciplinaria del Consejo General del Poder Judicial eli CGPJ tuomitsi edellä mainitun dénialaisen tuomarin maksamaan 305 euroa sakkoa, koska hän oli kieltäytynyt homoparin vihkimisestä, ja häntä varoitettiin tiukasti tekemästä sitä uudestaan. Hänen mukaansa toimi oli hallituksen "propagandakoneen" syytä.
Pian lain hyväksymisen jälkeen esiin nousi kysymys espanjalaisten ja ulkomaalaisten välillä solmittujen avioliittojen laillisuudesta. Espanjalaiselta ja Kataloniassa asuvalta Intian kansalaiselta evättiin avioliittolupa sillä perusteella, että Intian laki ei sallinut samaa sukupuolta olevien avioliittoa. 22. heinäkuuta toinen katalonialainen tuomari kuitenkin vihki espanjalaisen naisen ja hänen argentiinalaisen kumppaninsa (Espanjan ensimmäisessä naisten välisessä avioliitossa). Tuomari oli eri mieltä kuin kollegansa, ja painotti oikeutta avioliittoon Argentiinan lain sijaan. Se ei salli samaa sukupuolta olevien avioliittoja.27. heinäkuuta Junta de Fiscales de Sala – oikeusministeriötä neuvova elin julkisen syyttäjän toimistossa – julkaisi ohjeistuksen, jonka mukaan lesbot, homot, biseksuaalit ja transsukupuoliset espanjalaiset voivat mennä naimisiin ulkomaalaisten kanssa, vaikka heidän kotimaissaan ei sallittaisikaan homoavioliittoja. Avioliitto olisi validi Espanjan lain mukaan, mutta ei automaattisesti ulkomaalaisen kotimaan lain edessä. Valtion virallisessa lehdessä ilmoitettiin:
»Avioliitto espanjalaisen ja ulkomaalaisen välillä, tai samaa sukupuolta olevien Espanjassa oleskelevien ulkomaalaisten välillä, on lainmukainen Espanjan lain kannalta, vaikka ulkomaalaisen kansallinen lainsäädäntö ei sallisikaan sellaista avioliittoa tai tunnustaisi sen lainmukaisuutta.» 
Oikeusministeriön (Dirección General de Registros y Notariado) antamien ohjeiden mukaan Espanjan konsulaatit ulkomailla voivat valmistella samaa sukupuolta olevien avioliiton paperityön. Ainakin toisen naimisiin menevistä täytyy olla Espanjan kansalainen, joka asuu konsulaatin toiminta-alueella. Itse avioliitto voidaan kuitenkin solmia konsulaatissa vain, jos paikalliset lait tunnustavat samaa sukupuolta olevien avioliiton (käytännössä Espanjan konsulaatit Bostonissa, Brysselissä, Amsterdamissa, Torontossa, Ottawassa ja Kapkaupungissa). Kaikissa muissa tapauksissa osapuolten täytyy mennä naimisiin Espanjan alueella. Kaksi ulkomaalaista, joilla ei ole oleskelulupaa, eivät voi mennä Espanjassa naimisiin, sillä ainakin toisen osapuolista täytyy tällaisessa tapauksessa olla Espanjan kansalainen – sen sijaan kaksi Espanjassa pysyvästi oleskelevaa ulkomaalaista voivat mennä naimisiin keskenään.
4. syyskuuta 2005 konservatiivinen sanomalehti La Razón julkaisi 273 maistraatista tilastoja, joiden mukaan yhteensä 35 000 solmitusta avioliitosta 24 oli ollut samaa sukupuolta olevien välisiä. Lehden mukaan tilastot olivat ristiriidassa avioliittolain maan lainsäädännön prioriteetiksi asettaneen hallituksen perusteluiden kanssa, eivätkä ne tukeneet homojen oikeuksien aktivistien väitteitä, joiden mukaan laki hyödyttäisi 5–10 prosenttia väestöstä. 27. joulukuuta 2005 oikeusministeriö ilmoitti, että 327 samaa sukupuolta olevien välistä avioliittoa oli rekisteröity 5. joulukuuta mennessä niissä 200 maistraatissa, jotka olivat tuohon aikaan tietokoneistettuja (maan yhteensä 437 maistraatista). Avioliitoista 90 oli solmittu Madridissa, 63 Valenciassa, 35 Barcelonassa ja 18 Sevillassa.Maaliskuun alussa vuonna 2006 Pedro Zerolo, sosialistisen työväenpuolueen virkamies, ilmoitti, että 1 000 samaa sukupuolta olevaa paria oli mennyt naimisiin. Kahdeksan sataa avioliittoa oli solmittu tietokoneistetuilla alueilla (noin puolet Espanjasta) ja arviolta ainakin 200 muualla maassa. Zerolo sanoi myös, että yksi avioliitto kymmenestä solmittiin Espanjassa samaa sukupuolta olevien välillä. FELGT:n mukaan noin 4 500 samaa sukupuolta olevaa paria meni naimisiin lain ensimmäisen voimassaolovuoden aikana. Adoptiohakemuksia tehtiin 50, ja avioeroja myönnettiin kolme.27. kesäkuuta 2007 oikeusministeriö ilmoitti, että kahden edellisen vuoden aikana oli solmittu 3 340 samaa sukupuolta olevien avioliittoa. Se myönsi kuitenkin, että luku saattaisi olla vain "kolmasosa todellisuudesta", sillä tietoja oli vain 356 tietokoneistetusta rekisteristä, eikä niitä ollut lainkaan 7 000 alimman tason oikeudesta tai Baskimaalta. Lisäksi oikeusministeriön mukaan 2 375 avioliittoa oli solmittu miesten ja 965 naisten välillä. Eniten avioliittoja oli solmittu Madridissa, 1 060 kappaletta, Kataloniassa 871, Andalusiassa 399, Valenciassa 263, Baleaareilla 116, Asturiassa 101, Kastilia ja Leónissa 89, Aragoniassa 86, Kanariansaarilla 83, Murciassa 61, Kastilia- La Manchassa 56, Extremadurassa 54, Galiciassa 31, Kantabriassa 28, Navarrassa 25 ja La Riojassa 13.
